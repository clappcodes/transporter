var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
function map(f) {
  return new TransformStream(
    {
      async transform(chunk, controller) {
        controller.enqueue(await f(chunk));
      }
    },
    { highWaterMark: 1 },
    { highWaterMark: 0 }
  );
}
__name(map, "map");
export {
  map
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vdHJhbnNmb3JtL21hcC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vdHlwZXMudHNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgYFRyYW5zZm9ybWAgd2l0aCB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgZ2l2ZW4gZnVuY3Rpb25cbiAqIHRvIGVhY2ggZW1pdHRlZCBpdGVtIG9mIHRoZSBvcmlnaW5hbCBvYnNlcnZhYmxlLlxuICpcbiAqIEB0eXBlcGFyYW0gUyBUeXBlIG9mIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIG9yaWdpbmFsIG9ic2VydmFibGUuXG4gKiBAdHlwZXBhcmFtIFQgVHlwZSBvZiBpdGVtcyByZXR1cm5lZCBieSBgZmAuXG4gKiBAcGFyYW0gZiBGdW5jdGlvbiBjYWxsZWQgd2l0aCBlYWNoIGVtaXR0ZWQgaXRlbS4gSWYgaXQgcmV0dXJucyBhIHByb21pc2UsXG4gKiB0aGUgcmVzdWx0IGlzIGF3YWl0ZWQgdGhlbiBlbWl0dGVkLlxuICogQHJldHVybnMgVHJhbnNmb3JtIHRoYXQgZW1pdHMgaXRlbXMgcHJvZHVjZWQgYnkgYGZgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFMsIFQ+KGY6ICh4OiBTKSA9PiBUIHwgUHJvbWlzZTxUPik6IFRyYW5zZm9ybTxTLCBUPiB7XG4gIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFMsIFQ+KFxuICAgIHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYXdhaXQgZihjaHVuaykpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHsgaGlnaFdhdGVyTWFyazogMSB9LFxuICAgIHsgaGlnaFdhdGVyTWFyazogMCB9LFxuICApO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7QUFZTyxTQUFTLElBQVUsR0FBOEM7QUFDdEUsU0FBTyxJQUFJO0FBQUEsSUFDVDtBQUFBLE1BQ0UsTUFBTSxVQUFVLE9BQU8sWUFBWTtBQUNqQyxtQkFBVyxRQUFRLE1BQU0sRUFBRSxLQUFLLENBQUM7QUFBQSxNQUNuQztBQUFBLElBQ0Y7QUFBQSxJQUNBLEVBQUUsZUFBZSxFQUFFO0FBQUEsSUFDbkIsRUFBRSxlQUFlLEVBQUU7QUFBQSxFQUNyQjtBQUNGO0FBVmdCOyIsCiAgIm5hbWVzIjogW10KfQo=
